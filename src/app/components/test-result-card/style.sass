@import 'src/variables'

$radius: 5px

.test-result-card
  position: relative
  min-width: 285px
  width: calc(160px + 7rem)
  max-width: 325px
  margin-top: .75rem

  cursor: pointer
  background: $dark-3
  border-radius: $radius
  overflow: hidden

  font-size: .65rem
  line-height: 1.2
  user-select: none

  max-height: 3.15em
  transition: max-height .35s

  &.expanded
    max-height: 8em // TODO: make this dynamic based on actual height of expanded card

    .layout.expanded
      transition: opacity .2s .15s
      opacity: 1

    .layout.collapsed
      transition: opacity .2s
      opacity: 0

  .status-indicator
    position: absolute
    top: 0
    left: 0
    width: $radius
    height: 100%

    background: $gray-solid

    &.green
      background: $green-solid

    &.red
      background: $red-solid

  .expand-arrow
    position: absolute
    top: .5rem
    right: .5rem
    width: 1.1rem
    height: 1.1rem
    transition: transform .35s

    &.flipped
      transform: rotate(.5turn)

  .layout.collapsed,
  .layout.expanded
    padding: 1em 0 1em 1rem

  .layout.collapsed
    position: absolute
    width: 100%
    color: transparentize($light-text-primary, .1)
    white-space: nowrap
    opacity: 1
    transition: opacity .2s .15s

    &::before
      content: ''
      position: absolute
      top: 0
      right: 1.6rem
      width: 2rem
      height: 100%
      background: linear-gradient(90deg, transparent, $dark-3)

    &::after
      content: ''
      position: absolute
      top: 0
      right: 0
      width: 1.6rem
      height: 100%
      background: $dark-3

  .layout.expanded
    color: transparentize($light-text-primary, .2)
    opacity: 0
    transition: opacity .2s

    p
      line-height: 1.3em
      margin: 0

      &:not(:last-of-type)
        margin-bottom: 1em
