@import '../../../global-styles'


// Slightly more saturated and brighter than $dark-2
$link-bg: #1a1a1f


@mixin column-layout($num-columns)
  // Allot 1rem between each card and divide the remaining space by the number of columns
  width: calc((100% - #{$num-columns - 1}rem) / #{$num-columns})

  &:nth-child(#{$num-columns}n)
    // Rightmost card in each row should have no margin-right to prevent unnecessary wrapping
    margin-right: 0


.category-card
  height: 8.2rem

  position: relative
  padding: 1rem 0 1rem 1rem
  margin: 0 1rem 1rem 0
  overflow: hidden
  float: left

  background: $dark-1
  border-radius: 4px
  box-shadow: 0 10px 20px -5px transparentize($black, .75)
  transition: box-shadow .25s, transform .25s

  &:hover
    box-shadow: 0 12px 35px -3px transparentize($black, .75)
    transform: translateY(-1px)

  &.invisible
    .problem-link
      visibility: hidden

  // Small screens: 1 column
  @media (min-width: 0)
    @include column-layout(1)

  // medium screens: 2 columns
  @media (min-width: 650px)
    @include column-layout(2)

  // large screens: 3 columns
  @media (min-width: 1100px)
    @include column-layout(3)

  // extra large screens: 4 columns
  @media (min-width: 1600px)
    @include column-layout(4)


// The title of the card
h1
  font-size: .8rem
  font-weight: 500
  white-space: nowrap
  margin: 0 0 1rem
  cursor: pointer


// The progress indicator
.category-card .progress-pie
  position: absolute
  top: 1rem
  right: 1rem
  width: 1rem
  height: 1rem


// The links that go inside the cards
.problem-link
  background: $link-bg
  font-family: 'Montserrat', sans-serif
  font-size: .6rem
  font-weight: 400
  letter-spacing: .02em
  color: $light-text-secondary

  display: block
  float: left
  padding: .6rem .95rem
  margin: 0 .55rem .55rem 0

  border-radius: 2px

  transition: background .25s

  &.passed
    color: $green-text

  &:hover
    background: lighten($link-bg, 3)


// The indicator specifying how many problems are not displayed
.remainder
  font-family: 'Montserrat', sans-serif
  font-size: .6rem
  font-weight: 300
  color: $green-text

  display: block
  float: left
  padding: calc(1em - 3px)
  margin: 0

  border-radius: 4px
  border: 2.5px solid $link-bg

  cursor: pointer

  transition: background .25s

  &:hover
    background: $link-bg
